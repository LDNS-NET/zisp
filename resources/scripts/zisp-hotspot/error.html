<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Error</title>
  <style>
    body {
      background: #eb3349;
      color: #fff;
      font-family: sans-serif;
      text-align: center;
      padding-top: 100px
    }

    a {
      color: #fff
    }
  </style>
</head>

<body>
  <h2>Error</h2>
  <div id="error-message"></div>
  <a href="#" id="retry-link">Back</a>
  <script>
    var domain = "{{DOMAIN}}";
    var redirectUrl = 'https://' + domain + '/hotspot';
    var params = new URLSearchParams();

    var loginUrl = "$(link-login-only)";
    var errorVar = "$(error)";

    var urlParams = new URLSearchParams(window.location.search);
    var errorMsg = urlParams.get('error') || (errorVar && errorVar.indexOf('$') !== 0 ? errorVar : null);

    if (errorMsg) {
      document.getElementById('error-message').textContent = decodeURIComponent(errorMsg);
      params.append('error', errorMsg);
    }

    if (loginUrl && loginUrl.indexOf('$') !== 0) params.append('login_url', loginUrl);

    if (params.toString()) redirectUrl += '?' + params.toString();

    document.getElementById('retry-link').href = redirectUrl;
    // No auto redirect on error page, let user read
  </script>
</body>

</html>